{
  "description": "Code standards enforcement hooks - triggers analysis after file modifications when enabled",
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "A file was just modified. Silently check if code-standards analysis should be suggested.\n\nIMPORTANT: You must return ONLY valid JSON or nothing at all. Never output explanatory text.\n\n1. Check if `.claude/code-standards.local.md` exists with `active_analysis: true` in YAML frontmatter\n   - If file missing or setting not true → return empty JSON: {}\n\n2. Check file extension from $TOOL_RESULT\n   - Source extensions: .ts, .tsx, .js, .jsx, .py, .go, .java, .rb, .rs, .php, .swift, .kt, .cs\n   - If not a source file → return empty JSON: {}\n\n3. If all checks pass, return: {\"systemMessage\": \"Consider running the code-standards-enforcer agent to analyze this file.\"}\n\nReturn ONLY the JSON object, no other text. Modified file info: $TOOL_RESULT",
            "timeout": 15
          }
        ]
      }
    ]
  },
  "timeoutNote": "Hooks have a 15-second timeout. For large files, the hook returns early with a suggestion to run `/code-standards:check` manually."
}
